webpackJsonp([4],{iJlD:function(n,s){},xJsL:function(n,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("Dd8w"),t=i.n(e),r=(i("Q98j"),i("ZEK7"),i("NYxO")),o={name:"Login.vue",data:function(){return{isSignUp:!0,isSignIn:!1,signUp:{username:"",password:"",notice:"创建后请记住用户名和密码",isError:!1},signIn:{username:"",password:"",notice:"请输入用户名和密码",isError:!1}}},methods:t()({},Object(r.b)({loginUser:"login",registerUser:"register"}),{toggle:function(n){this.isSignIn="signin"===n&&!this.isSignIn,this.isSignUp="signup"===n&&!this.isSignUp},validate:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=this.validUsername(n.username),i=s.isValidU,e=s.noticeU,t=this.validPassword(n.password),r=t.isValidP,o=t.noticeP;return i?r?(n.isError=!1,void(n.notice="")):(n.notice=o,void(n.isError=!0)):(n.notice=e,void(n.isError=!0))},onSignUp:function(){var n=this;this.loginUser({username:this.signUp.username,password:this.signUp.password}).then(function(){n.signUp.isError=!1,n.signUp.notice="",n.$router.push({path:"notebooks"})}).catch(function(){n.signUp.isError=!0,n.signUp.notice="ERROR"})},onSignIn:function(){var n=this;this.loginUser({username:this.signIn.username,password:this.signIn.password}).then(function(){n.signIn.isError=!1,n.signIn.notice="",n.$router.push({path:"notebooks"})}).catch(function(){n.signIn.isError=!0,n.signIn.notice="ERROR"})},validUsername:function(n){return{isValidU:/^[a-zA-Z_0-9\u4e00-\u9fa5]{3,15}$/.test(n),noticeU:"用户名必须是3-15个字符，仅限数字、字母或下划线"}},validPassword:function(n){return{isValidP:/^.{6,16}$/.test(n),noticeP:"密码长度为6-16位"}}})},a={render:function(){var n=this,s=n.$createElement,i=n._self._c||s;return i("div",{attrs:{id:"login"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-container"},[i("div",{staticClass:"main"}),n._v(" "),i("div",{staticClass:"form"},[i("h3",{on:{click:function(){return n.toggle("signup")}}},[n._v("创建账户")]),n._v(" "),i("div",{staticClass:"register",class:{show:n.isSignUp}},[i("input",{directives:[{name:"model",rawName:"v-model",value:n.signUp.username,expression:"signUp.username"}],attrs:{type:"text",placeholder:"用户名"},domProps:{value:n.signUp.username},on:{change:function(){return n.validate(n.signUp)},input:function(s){s.target.composing||n.$set(n.signUp,"username",s.target.value)}}}),n._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:n.signUp.password,expression:"signUp.password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:n.signUp.password},on:{change:function(){return n.validate(n.signUp)},keyup:function(s){return!s.type.indexOf("key")&&n._k(s.keyCode,"enter",13,s.key,"Enter")?null:n.onSignUp.apply(null,arguments)},input:function(s){s.target.composing||n.$set(n.signUp,"password",s.target.value)}}}),n._v(" "),i("p",{class:{error:n.signUp.isError}},[n._v(n._s(n.signUp.notice))]),n._v(" "),i("div",{staticClass:"button",on:{click:n.onSignUp}},[n._v("创建账号")])]),n._v(" "),i("h3",{on:{click:function(){return n.toggle("signin")}}},[n._v("登录")]),n._v(" "),i("div",{staticClass:"login",class:{show:n.isSignIn}},[i("input",{directives:[{name:"model",rawName:"v-model",value:n.signIn.username,expression:"signIn.username"}],attrs:{type:"text",placeholder:"输入用户名"},domProps:{value:n.signIn.username},on:{change:function(){return n.validate(n.signIn)},input:function(s){s.target.composing||n.$set(n.signIn,"username",s.target.value)}}}),n._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:n.signIn.password,expression:"signIn.password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:n.signIn.password},on:{change:function(){return n.validate(n.signIn)},keyup:function(s){return!s.type.indexOf("key")&&n._k(s.keyCode,"enter",13,s.key,"Enter")?null:n.onSignIn.apply(null,arguments)},input:function(s){s.target.composing||n.$set(n.signIn,"password",s.target.value)}}}),n._v(" "),i("p",{class:{error:n.signIn.isError}},[n._v(n._s(n.signIn.notice))]),n._v(" "),i("div",{staticClass:"button",on:{click:n.onSignIn}},[n._v(" 登录")])])])])])])])},staticRenderFns:[]};var u=i("VU/8")(o,a,!1,function(n){i("iJlD")},"data-v-af053796",null);s.default=u.exports}});
//# sourceMappingURL=4.83bd990328b7c952d69b.js.map